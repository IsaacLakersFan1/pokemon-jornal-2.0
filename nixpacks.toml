providers = ["node"]

[phases.build]
commands = [
  "cd backend && npm install && npm run build",
  "cd frontend && npm install && npm run build"
]

[phases.start]
dependsOn = ["build"]  # Ensures 'build' phase completes before starting the app
commands = [
  "cd backend && npm run start",
  "cd frontend && npm run preview -- --port 5173"
]

[variables]
PORT = "3000"
